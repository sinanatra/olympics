import{s as de,o as S,i as w,f as c,k as Z,p as me,e as v,a as T,H as ue,c as g,b as k,g as O,I as he,m as u,h as d,t as B,d as F,n as V,r as _e,J as x,j as pe}from"../chunks/scheduler.D7Q2dnVI.js";import{S as ve,i as ge,t as L,a as $,c as be,b as ke,d as Ee,m as je,e as we,g as De}from"../chunks/index.BmfHaTgE.js";import{e as W}from"../chunks/each.D6YF6ztN.js";import{b as R}from"../chunks/paths.B9IH-4Ky.js";import{b as ee,a as te,c as Ie,w as Ve,h as Se,d as le}from"../chunks/stores.CxXQ8zAK.js";import{S as ye,t as Ae}from"../chunks/dsv.B99vWlFY.js";import{p as Ne}from"../chunks/stores.Duvl1Pes.js";const He=async({fetch:i})=>({posts:await(await i("/api/snippets")).json()}),Ke=Object.freeze(Object.defineProperty({__proto__:null,load:He},Symbol.toStringTag,{value:"Module"}));function ae(i,l,s){const e=i.slice();return e[9]=l[s],e}function se(i,l,s){const e=i.slice();return e[12]=l[s],e}function ie(i){var K,Q;let l,s,e,a,t,r,n,f,E,b,j,o,_,H=((K=i[4])==null?void 0:K.meta.title)+"",P,D,z,y,m=i[1]&&ne(i),p=i[0]&&re(i);n=new ye({});let M=i[4].meta.caption&&Pe(),A=i[4].text&&Me(i),N=((Q=i[4])==null?void 0:Q.meta.media)&&Te(i);return{c(){l=v("header"),s=v("div"),m&&m.c(),e=T(),p&&p.c(),a=T(),t=v("main"),r=v("div"),ke(n.$$.fragment),f=T(),M&&M.c(),E=T(),b=v("div"),j=v("div"),o=v("h1"),_=new ue(!1),P=T(),D=v("div"),A&&A.c(),z=T(),N&&N.c(),this.h()},l(h){l=g(h,"HEADER",{});var I=k(l);s=g(I,"DIV",{class:!0,"data-sveltekit-reload":!0});var q=k(s);m&&m.l(q),e=O(q),p&&p.l(q),q.forEach(c),I.forEach(c),a=O(h),t=g(h,"MAIN",{});var C=k(t);r=g(C,"DIV",{class:!0});var U=k(r);Ee(n.$$.fragment,U),U.forEach(c),f=O(C),M&&M.l(C),E=O(C),b=g(C,"DIV",{class:!0});var G=k(b);j=g(G,"DIV",{class:!0});var X=k(j);o=g(X,"H1",{class:!0});var Y=k(o);_=he(Y,!1),Y.forEach(c),X.forEach(c),P=O(G),D=g(G,"DIV",{class:!0});var J=k(D);A&&A.l(J),z=O(J),N&&N.l(J),J.forEach(c),G.forEach(c),C.forEach(c),this.h()},h(){u(s,"class","navigation svelte-12pjum2"),u(s,"data-sveltekit-reload",""),u(r,"class","sketch svelte-12pjum2"),_.a=null,u(o,"class","svelte-12pjum2"),u(j,"class","title"),u(D,"class","content"),u(b,"class","info svelte-12pjum2")},m(h,I){w(h,l,I),d(l,s),m&&m.m(s,null),d(s,e),p&&p.m(s,null),w(h,a,I),w(h,t,I),d(t,r),je(n,r,null),d(t,f),M&&M.m(t,null),d(t,E),d(t,b),d(b,j),d(j,o),_.m(H,o),d(b,P),d(b,D),A&&A.m(D,null),d(D,z),N&&N.m(D,null),y=!0},p(h,I){var q;h[1]?m?m.p(h,I):(m=ne(h),m.c(),m.m(s,e)):m&&(m.d(1),m=null),h[0]?p?p.p(h,I):(p=re(h),p.c(),p.m(s,null)):p&&(p.d(1),p=null),h[4].text&&A.p(h,I),(q=h[4])!=null&&q.meta.media&&N.p(h,I)},i(h){y||(L(n.$$.fragment,h),y=!0)},o(h){$(n.$$.fragment,h),y=!1},d(h){h&&(c(l),c(a),c(t)),m&&m.d(),p&&p.d(),we(n),M&&M.d(),A&&A.d(),N&&N.d()}}}function ne(i){let l,s,e;return{c(){l=v("a"),s=B("←"),this.h()},l(a){l=g(a,"A",{class:!0,href:!0});var t=k(l);s=F(t,"←"),t.forEach(c),this.h()},h(){u(l,"class","prev svelte-12pjum2"),u(l,"href",e=R+"/stories/"+i[1].path.replace("/texts/",""))},m(a,t){w(a,l,t),d(l,s)},p(a,t){t&2&&e!==(e=R+"/stories/"+a[1].path.replace("/texts/",""))&&u(l,"href",e)},d(a){a&&c(l)}}}function re(i){let l,s,e;return{c(){l=v("a"),s=B("→"),this.h()},l(a){l=g(a,"A",{class:!0,href:!0});var t=k(l);s=F(t,"→"),t.forEach(c),this.h()},h(){u(l,"class","next svelte-12pjum2"),u(l,"href",e=R+"/stories/"+i[0].path.replace("/texts/",""))},m(a,t){w(a,l,t),d(l,s)},p(a,t){t&1&&e!==(e=R+"/stories/"+a[0].path.replace("/texts/",""))&&u(l,"href",e)},d(a){a&&c(l)}}}function Pe(i){return{c:V,l:V,m:V,d:V}}function Me(i){let l,s,e=i[4].text+"";return{c(){l=v("div"),s=new ue(!1),this.h()},l(a){l=g(a,"DIV",{class:!0});var t=k(l);s=he(t,!1),t.forEach(c),this.h()},h(){s.a=null,u(l,"class","description svelte-12pjum2")},m(a,t){w(a,l,t),s.m(e,l)},p:V,d(a){a&&c(l)}}}function Te(i){let l,s=i[4].meta.config.highlightedEntities&&Oe(i);return{c(){s&&s.c(),l=S()},l(e){s&&s.l(e),l=S()},m(e,a){s&&s.m(e,a),w(e,l,a)},p(e,a){e[4].meta.config.highlightedEntities&&s.p(e,a)},d(e){e&&c(l),s&&s.d(e)}}}function Oe(i){var a;let l,s=W((a=i[4])==null?void 0:a.meta.config.highlightedEntities),e=[];for(let t=0;t<s.length;t+=1)e[t]=ce(ae(i,s,t));return{c(){l=v("div");for(let t=0;t<e.length;t+=1)e[t].c();this.h()},l(t){l=g(t,"DIV",{class:!0});var r=k(l);for(let n=0;n<e.length;n+=1)e[n].l(r);r.forEach(c),this.h()},h(){u(l,"class","medias svelte-12pjum2")},m(t,r){w(t,l,r);for(let n=0;n<e.length;n+=1)e[n]&&e[n].m(l,null)},p(t,r){var n;if(r&20){s=W((n=t[4])==null?void 0:n.meta.config.highlightedEntities);let f;for(f=0;f<s.length;f+=1){const E=ae(t,s,f);e[f]?e[f].p(E,r):(e[f]=ce(E),e[f].c(),e[f].m(l,null))}for(;f<e.length;f+=1)e[f].d(1);e.length=s.length}},d(t){t&&c(l),_e(e,t)}}}function oe(i){let l;function s(...t){return i[6](i[9],...t)}let e=W(i[2].filter(s)),a=[];for(let t=0;t<e.length;t+=1)a[t]=fe(se(i,e,t));return{c(){for(let t=0;t<a.length;t+=1)a[t].c();l=S()},l(t){for(let r=0;r<a.length;r+=1)a[r].l(t);l=S()},m(t,r){for(let n=0;n<a.length;n+=1)a[n]&&a[n].m(t,r);w(t,l,r)},p(t,r){if(i=t,r&20){e=W(i[2].filter(s));let n;for(n=0;n<e.length;n+=1){const f=se(i,e,n);a[n]?a[n].p(f,r):(a[n]=fe(f),a[n].c(),a[n].m(l.parentNode,l))}for(;n<a.length;n+=1)a[n].d(1);a.length=e.length}},d(t){t&&c(l),_e(a,t)}}}function qe(i){return{c:V,l:V,m:V,p:V,d:V}}function Ce(i){let l,s,e,a,t,r,n,f=i[12].name+"",E,b,j;return{c(){l=v("a"),s=v("div"),e=v("img"),r=T(),n=v("p"),E=B(f),b=T(),this.h()},l(o){l=g(o,"A",{href:!0,target:!0,class:!0});var _=k(l);s=g(_,"DIV",{class:!0});var H=k(s);e=g(H,"IMG",{src:!0,alt:!0,class:!0}),r=O(H),n=g(H,"P",{class:!0});var P=k(n);E=F(P,f),P.forEach(c),H.forEach(c),b=O(_),_.forEach(c),this.h()},h(){x(e.src,a=i[12].image)||u(e,"src",a),u(e,"alt",t=i[12].name),u(e,"class","svelte-12pjum2"),u(n,"class","svelte-12pjum2"),u(s,"class","athlete svelte-12pjum2"),u(l,"href",j=i[12].url),u(l,"target","_blank"),u(l,"class","svelte-12pjum2")},m(o,_){w(o,l,_),d(l,s),d(s,e),d(s,r),d(s,n),d(n,E),d(l,b)},p(o,_){_&4&&!x(e.src,a=o[12].image)&&u(e,"src",a),_&4&&t!==(t=o[12].name)&&u(e,"alt",t),_&4&&f!==(f=o[12].name+"")&&pe(E,f),_&4&&j!==(j=o[12].url)&&u(l,"href",j)},d(o){o&&c(l)}}}function fe(i){let l;function s(t,r){return t[12].image?Ce:qe}let e=s(i),a=e(i);return{c(){a.c(),l=S()},l(t){a.l(t),l=S()},m(t,r){a.m(t,r),w(t,l,r)},p(t,r){e===(e=s(t))&&a?a.p(t,r):(a.d(1),a=e(t),a&&(a.c(),a.m(l.parentNode,l)))},d(t){t&&c(l),a.d(t)}}}function ce(i){let l,s=i[2]&&oe(i);return{c(){s&&s.c(),l=S()},l(e){s&&s.l(e),l=S()},m(e,a){s&&s.m(e,a),w(e,l,a)},p(e,a){e[2]?s?s.p(e,a):(s=oe(e),s.c(),s.m(l.parentNode,l)):s&&(s.d(1),s=null)},d(e){e&&c(l),s&&s.d(e)}}}function Re(i){let l,s,e=i[4]!=null&&i[3].length>0&&i[2].length>0&&ie(i);return{c(){e&&e.c(),l=S()},l(a){e&&e.l(a),l=S()},m(a,t){e&&e.m(a,t),w(a,l,t),s=!0},p(a,[t]){a[4]!=null&&a[3].length>0&&a[2].length>0?e?(e.p(a,t),t&12&&L(e,1)):(e=ie(a),e.c(),L(e,1),e.m(l.parentNode,l)):e&&(De(),$(e,1,1,()=>{e=null}),be())},i(a){s||(L(e),s=!0)},o(a){$(e),s=!1},d(a){a&&c(l),e&&e.d(a)}}}function ze(i,l,s){let e,a;Z(i,Ne,o=>s(7,e=o)),Z(i,le,o=>s(3,a=o));let{data:t}=l,r=t,n=r.posts.find(o=>o.path.includes(e.params.slug)),f=null,E=null;if(n){const o=r.posts.findIndex(_=>_.path.includes(e.params.slug));f=r.posts[o+1]||null,E=r.posts[o-1]||null,ee.update(_=>({..._,...n.meta.config})),te.set(n.meta.config.highlightedEntities||[])}let b=[];me(async()=>{Ve.set(window.innerWidth),Se.set(550);const _=(await Ae(R+"/data/update-until-2022/data.tsv")).map(P=>{const D={};for(const[z,y]of Object.entries(P))D[z]=y!=null&&y.trim()?y:"NA";return D});le.set(_);const H=await fetch(R+"/data/athletes.json");s(2,b=await H.json())}),n&&(ee.update(o=>({...o,...n.meta.config})),te.set(n.meta.config.highlightedEntities||[]),Ie.set(n.meta.caption||""));const j=(o,_)=>_.name.toLowerCase()==o;return i.$$set=o=>{"data"in o&&s(5,t=o.data)},[f,E,b,a,n,t,j]}class Qe extends ve{constructor(l){super(),ge(this,l,ze,Re,de,{data:5})}}export{Qe as component,Ke as universal};
