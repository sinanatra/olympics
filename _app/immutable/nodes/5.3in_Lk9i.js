import{s as Y,e as k,c as j,b as D,f as c,i as w,k as G,q as Z,l as x,m,n as I,a as C,H as q,g as N,C as A,h as y,o as V,B as X,t as ee,d as te,D as R,j as le}from"../chunks/scheduler.B6iofcAQ.js";import{S as ae,i as se,t as P,c as ie,a as T,g as ne,b as oe,d as re,m as ce,e as fe}from"../chunks/index.DcOQwsS0.js";import{e as M}from"../chunks/each.D6YF6ztN.js";import{b as W}from"../chunks/paths.B5EXVIfu.js";import{c as _e,h as de,w as me,a as he,d as $}from"../chunks/stores.HNDzHde5.js";import{t as ue,S as pe}from"../chunks/dsv.CpkLmj7G.js";import{p as ge}from"../chunks/stores.BKsa0XT3.js";const ve=async({fetch:i})=>({posts:await(await i("/api/snippets")).json()}),Ae=Object.freeze(Object.defineProperty({__proto__:null,load:ve},Symbol.toStringTag,{value:"Module"}));function F(i,t,l){const e=i.slice();return e[7]=t[l],e}function J(i,t,l){const e=i.slice();return e[10]=t[l],e}function be(i){let t,l="Loading...";return{c(){t=k("p"),t.textContent=l,this.h()},l(e){t=j(e,"P",{class:!0,"data-svelte-h":!0}),x(t)!=="svelte-1m6gtj"&&(t.textContent=l),this.h()},h(){m(t,"class","loading svelte-1pdjm42")},m(e,s){w(e,t,s)},p:I,i:I,o:I,d(e){e&&c(t)}}}function ke(i){var O,L;let t,l,e,s,a,r,n,o,d=((O=i[2])==null?void 0:O.meta.title)+"",f,h,g,u;l=new pe({});let p=i[2].meta.methodology&&je(i),v=i[2].text&&we(i),b=((L=i[2])==null?void 0:L.meta.media)&&Ee(i);return{c(){t=k("div"),oe(l.$$.fragment),e=C(),p&&p.c(),s=C(),a=k("div"),r=k("div"),n=k("h1"),o=new q(!1),f=C(),h=k("div"),v&&v.c(),g=C(),b&&b.c(),this.h()},l(_){t=j(_,"DIV",{class:!0});var E=D(t);re(l.$$.fragment,E),E.forEach(c),e=N(_),p&&p.l(_),s=N(_),a=j(_,"DIV",{class:!0});var S=D(a);r=j(S,"DIV",{class:!0});var z=D(r);n=j(z,"H1",{});var B=D(n);o=A(B,!1),B.forEach(c),z.forEach(c),f=N(S),h=j(S,"DIV",{class:!0});var H=D(h);v&&v.l(H),g=N(H),b&&b.l(H),H.forEach(c),S.forEach(c),this.h()},h(){m(t,"class","sketch svelte-1pdjm42"),o.a=null,m(r,"class","title"),m(h,"class","content svelte-1pdjm42"),m(a,"class","info svelte-1pdjm42")},m(_,E){w(_,t,E),ce(l,t,null),w(_,e,E),p&&p.m(_,E),w(_,s,E),w(_,a,E),y(a,r),y(r,n),o.m(d,n),y(a,f),y(a,h),v&&v.m(h,null),y(h,g),b&&b.m(h,null),u=!0},p(_,E){var S;_[2].meta.methodology&&p.p(_,E),_[2].text&&v.p(_,E),(S=_[2])!=null&&S.meta.media&&b.p(_,E)},i(_){u||(T(l.$$.fragment,_),u=!0)},o(_){P(l.$$.fragment,_),u=!1},d(_){_&&(c(t),c(e),c(s),c(a)),fe(l),p&&p.d(_),v&&v.d(),b&&b.d()}}}function je(i){let t,l,e=i[2].meta.methodology+"";return{c(){t=k("div"),l=new q(!1),this.h()},l(s){t=j(s,"DIV",{class:!0});var a=D(t);l=A(a,!1),a.forEach(c),this.h()},h(){l.a=null,m(t,"class","methodology svelte-1pdjm42")},m(s,a){w(s,t,a),l.m(e,t)},p:I,d(s){s&&c(t)}}}function we(i){let t,l,e=i[2].text+"";return{c(){t=k("div"),l=new q(!1),this.h()},l(s){t=j(s,"DIV",{class:!0});var a=D(t);l=A(a,!1),a.forEach(c),this.h()},h(){l.a=null,m(t,"class","description svelte-1pdjm42")},m(s,a){w(s,t,a),l.m(e,t)},p:I,d(s){s&&c(t)}}}function Ee(i){let t,l=i[2].meta.config.highlightedEntities&&De(i);return{c(){l&&l.c(),t=V()},l(e){l&&l.l(e),t=V()},m(e,s){l&&l.m(e,s),w(e,t,s)},p(e,s){e[2].meta.config.highlightedEntities&&l.p(e,s)},d(e){e&&c(t),l&&l.d(e)}}}function De(i){var s;let t,l=M((s=i[2])==null?void 0:s.meta.config.highlightedEntities),e=[];for(let a=0;a<l.length;a+=1)e[a]=U(F(i,l,a));return{c(){t=k("div");for(let a=0;a<e.length;a+=1)e[a].c();this.h()},l(a){t=j(a,"DIV",{class:!0});var r=D(t);for(let n=0;n<e.length;n+=1)e[n].l(r);r.forEach(c),this.h()},h(){m(t,"class","medias svelte-1pdjm42")},m(a,r){w(a,t,r);for(let n=0;n<e.length;n+=1)e[n]&&e[n].m(t,null)},p(a,r){var n;if(r&5){l=M((n=a[2])==null?void 0:n.meta.config.highlightedEntities);let o;for(o=0;o<l.length;o+=1){const d=F(a,l,o);e[o]?e[o].p(d,r):(e[o]=U(d),e[o].c(),e[o].m(t,null))}for(;o<e.length;o+=1)e[o].d(1);e.length=l.length}},d(a){a&&c(t),X(e,a)}}}function K(i){let t;function l(...a){return i[4](i[7],...a)}let e=M(i[0].filter(l)),s=[];for(let a=0;a<e.length;a+=1)s[a]=Q(J(i,e,a));return{c(){for(let a=0;a<s.length;a+=1)s[a].c();t=V()},l(a){for(let r=0;r<s.length;r+=1)s[r].l(a);t=V()},m(a,r){for(let n=0;n<s.length;n+=1)s[n]&&s[n].m(a,r);w(a,t,r)},p(a,r){if(i=a,r&5){e=M(i[0].filter(l));let n;for(n=0;n<e.length;n+=1){const o=J(i,e,n);s[n]?s[n].p(o,r):(s[n]=Q(o),s[n].c(),s[n].m(t.parentNode,t))}for(;n<s.length;n+=1)s[n].d(1);s.length=e.length}},d(a){a&&c(t),X(s,a)}}}function ye(i){return{c:I,l:I,m:I,p:I,d:I}}function Ie(i){let t,l,e,s,a,r,n,o=i[10].name+"",d,f,h;return{c(){t=k("a"),l=k("div"),e=k("img"),r=C(),n=k("p"),d=ee(o),f=C(),this.h()},l(g){t=j(g,"A",{href:!0,target:!0,class:!0});var u=D(t);l=j(u,"DIV",{class:!0});var p=D(l);e=j(p,"IMG",{src:!0,alt:!0,class:!0}),r=N(p),n=j(p,"P",{class:!0});var v=D(n);d=te(v,o),v.forEach(c),p.forEach(c),f=N(u),u.forEach(c),this.h()},h(){R(e.src,s=i[10].image)||m(e,"src",s),m(e,"alt",a=i[10].name),m(e,"class","svelte-1pdjm42"),m(n,"class","svelte-1pdjm42"),m(l,"class","athlete svelte-1pdjm42"),m(t,"href",h=i[10].url),m(t,"target","_blank"),m(t,"class","svelte-1pdjm42")},m(g,u){w(g,t,u),y(t,l),y(l,e),y(l,r),y(l,n),y(n,d),y(t,f)},p(g,u){u&1&&!R(e.src,s=g[10].image)&&m(e,"src",s),u&1&&a!==(a=g[10].name)&&m(e,"alt",a),u&1&&o!==(o=g[10].name+"")&&le(d,o),u&1&&h!==(h=g[10].url)&&m(t,"href",h)},d(g){g&&c(t)}}}function Q(i){let t;function l(a,r){return a[10].image?Ie:ye}let e=l(i),s=e(i);return{c(){s.c(),t=V()},l(a){s.l(a),t=V()},m(a,r){s.m(a,r),w(a,t,r)},p(a,r){e===(e=l(a))&&s?s.p(a,r):(s.d(1),s=e(a),s&&(s.c(),s.m(t.parentNode,t)))},d(a){a&&c(t),s.d(a)}}}function U(i){let t,l=i[0]&&K(i);return{c(){l&&l.c(),t=V()},l(e){l&&l.l(e),t=V()},m(e,s){l&&l.m(e,s),w(e,t,s)},p(e,s){e[0]?l?l.p(e,s):(l=K(e),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},d(e){e&&c(t),l&&l.d(e)}}}function Ve(i){let t,l,e,s;const a=[ke,be],r=[];function n(o,d){return o[2]!=null&&o[1].length>0&&o[0].length>0?0:1}return l=n(i),e=r[l]=a[l](i),{c(){t=k("main"),e.c()},l(o){t=j(o,"MAIN",{});var d=D(t);e.l(d),d.forEach(c)},m(o,d){w(o,t,d),r[l].m(t,null),s=!0},p(o,[d]){let f=l;l=n(o),l===f?r[l].p(o,d):(ne(),P(r[f],1,1,()=>{r[f]=null}),ie(),e=r[l],e?e.p(o,d):(e=r[l]=a[l](o),e.c()),T(e,1),e.m(t,null))},i(o){s||(T(e),s=!0)},o(o){P(e),s=!1},d(o){o&&c(t),r[l].d()}}}function Se(i,t,l){let e,s;G(i,ge,f=>l(5,e=f)),G(i,$,f=>l(1,s=f));let{data:a}=t,n=a.posts.find(f=>f.path.includes(e.params.slug)),o=[];Z(async()=>{me.set(window.innerWidth),he.set(600);const h=(await ue(W+"/data/update-until-2022/data.tsv")).map(u=>{const p={};for(const[v,b]of Object.entries(u))p[v]=b!=null&&b.trim()?b:"NA";return p});$.set(h);const g=await fetch(W+"/data/athletes.json");l(0,o=await g.json())}),n&&(_e.update(f=>({...f,...n.meta.config})),de.set(n.meta.config.highlightedEntities||[]));const d=(f,h)=>h.name.toLowerCase()==f;return i.$$set=f=>{"data"in f&&l(3,a=f.data)},[o,s,n,a,d]}class Oe extends ae{constructor(t){super(),se(this,t,Se,Ve,Y,{data:3})}}export{Oe as component,Ae as universal};
