import{s as ue,o as S,i as w,f,k as ee,p as me,e as m,a as M,H as B,c as p,b,g as T,I as F,m as d,h as u,t as K,d as Q,n as q,r as _e,J as te,j as pe}from"../chunks/scheduler.D7Q2dnVI.js";import{S as ve,i as ge,t as L,a as $,c as be,b as ke,d as Ee,m as we,e as De,g as Ie}from"../chunks/index.BmfHaTgE.js";import{e as W}from"../chunks/each.D6YF6ztN.js";import{b as R}from"../chunks/paths.DoyKTxwY.js";import{b as le,a as ae,c as Ve,w as Se,h as je,d as ie}from"../chunks/stores.CxXQ8zAK.js";import{S as Ae,t as Ne}from"../chunks/dsv.CXdyCKOs.js";import{p as ye}from"../chunks/stores.DOMrai0C.js";const He=async({fetch:s})=>({posts:await(await s("/api/snippets")).json()}),Ke=Object.freeze(Object.defineProperty({__proto__:null,load:He},Symbol.toStringTag,{value:"Module"}));function se(s,t,i){const e=s.slice();return e[9]=t[i],e}function ne(s,t,i){const e=s.slice();return e[12]=t[i],e}function re(s){var U,X;let t,i,e,a,l,r,n,c,E,k,D,o,_,H=((U=s[4])==null?void 0:U.meta.title)+"",P,V,z,j,v=s[1]&&oe(s),g=s[0]&&fe(s);n=new Ae({});let A=s[4].meta.caption&&Pe(s),N=s[4].text&&Me(s),y=((X=s[4])==null?void 0:X.meta.media)&&Te(s);return{c(){t=m("header"),i=m("div"),v&&v.c(),e=M(),g&&g.c(),a=M(),l=m("main"),r=m("div"),ke(n.$$.fragment),c=M(),A&&A.c(),E=M(),k=m("div"),D=m("div"),o=m("h1"),_=new B(!1),P=M(),V=m("div"),N&&N.c(),z=M(),y&&y.c(),this.h()},l(h){t=p(h,"HEADER",{});var I=b(t);i=p(I,"DIV",{class:!0,"data-sveltekit-reload":!0});var O=b(i);v&&v.l(O),e=T(O),g&&g.l(O),O.forEach(f),I.forEach(f),a=T(h),l=p(h,"MAIN",{});var C=b(l);r=p(C,"DIV",{class:!0});var Y=b(r);Ee(n.$$.fragment,Y),Y.forEach(f),c=T(C),A&&A.l(C),E=T(C),k=p(C,"DIV",{class:!0});var G=b(k);D=p(G,"DIV",{class:!0});var Z=b(D);o=p(Z,"H1",{});var x=b(o);_=F(x,!1),x.forEach(f),Z.forEach(f),P=T(G),V=p(G,"DIV",{class:!0});var J=b(V);N&&N.l(J),z=T(J),y&&y.l(J),J.forEach(f),G.forEach(f),C.forEach(f),this.h()},h(){d(i,"class","navigation svelte-11d6el2"),d(i,"data-sveltekit-reload",""),d(r,"class","sketch svelte-11d6el2"),_.a=null,d(D,"class","title"),d(V,"class","content"),d(k,"class","info svelte-11d6el2")},m(h,I){w(h,t,I),u(t,i),v&&v.m(i,null),u(i,e),g&&g.m(i,null),w(h,a,I),w(h,l,I),u(l,r),we(n,r,null),u(l,c),A&&A.m(l,null),u(l,E),u(l,k),u(k,D),u(D,o),_.m(H,o),u(k,P),u(k,V),N&&N.m(V,null),u(V,z),y&&y.m(V,null),j=!0},p(h,I){var O;h[1]?v?v.p(h,I):(v=oe(h),v.c(),v.m(i,e)):v&&(v.d(1),v=null),h[0]?g?g.p(h,I):(g=fe(h),g.c(),g.m(i,null)):g&&(g.d(1),g=null),h[4].meta.caption&&A.p(h,I),h[4].text&&N.p(h,I),(O=h[4])!=null&&O.meta.media&&y.p(h,I)},i(h){j||(L(n.$$.fragment,h),j=!0)},o(h){$(n.$$.fragment,h),j=!1},d(h){h&&(f(t),f(a),f(l)),v&&v.d(),g&&g.d(),De(n),A&&A.d(),N&&N.d(),y&&y.d()}}}function oe(s){let t,i,e;return{c(){t=m("a"),i=K("←"),this.h()},l(a){t=p(a,"A",{class:!0,href:!0});var l=b(t);i=Q(l,"←"),l.forEach(f),this.h()},h(){d(t,"class","prev svelte-11d6el2"),d(t,"href",e=R+"/stories/"+s[1].path.replace("/texts/",""))},m(a,l){w(a,t,l),u(t,i)},p(a,l){l&2&&e!==(e=R+"/stories/"+a[1].path.replace("/texts/",""))&&d(t,"href",e)},d(a){a&&f(t)}}}function fe(s){let t,i,e;return{c(){t=m("a"),i=K("→"),this.h()},l(a){t=p(a,"A",{class:!0,href:!0});var l=b(t);i=Q(l,"→"),l.forEach(f),this.h()},h(){d(t,"class","next svelte-11d6el2"),d(t,"href",e=R+"/stories/"+s[0].path.replace("/texts/",""))},m(a,l){w(a,t,l),u(t,i)},p(a,l){l&1&&e!==(e=R+"/stories/"+a[0].path.replace("/texts/",""))&&d(t,"href",e)},d(a){a&&f(t)}}}function Pe(s){let t,i,e=s[4].meta.caption+"";return{c(){t=m("div"),i=new B(!1),this.h()},l(a){t=p(a,"DIV",{class:!0});var l=b(t);i=F(l,!1),l.forEach(f),this.h()},h(){i.a=null,d(t,"class","caption svelte-11d6el2")},m(a,l){w(a,t,l),i.m(e,t)},p:q,d(a){a&&f(t)}}}function Me(s){let t,i,e=s[4].text+"";return{c(){t=m("div"),i=new B(!1),this.h()},l(a){t=p(a,"DIV",{class:!0});var l=b(t);i=F(l,!1),l.forEach(f),this.h()},h(){i.a=null,d(t,"class","description svelte-11d6el2")},m(a,l){w(a,t,l),i.m(e,t)},p:q,d(a){a&&f(t)}}}function Te(s){let t,i=s[4].meta.config.highlightedEntities&&Oe(s);return{c(){i&&i.c(),t=S()},l(e){i&&i.l(e),t=S()},m(e,a){i&&i.m(e,a),w(e,t,a)},p(e,a){e[4].meta.config.highlightedEntities&&i.p(e,a)},d(e){e&&f(t),i&&i.d(e)}}}function Oe(s){var a;let t,i=W((a=s[4])==null?void 0:a.meta.config.highlightedEntities),e=[];for(let l=0;l<i.length;l+=1)e[l]=de(se(s,i,l));return{c(){t=m("div");for(let l=0;l<e.length;l+=1)e[l].c();this.h()},l(l){t=p(l,"DIV",{class:!0});var r=b(t);for(let n=0;n<e.length;n+=1)e[n].l(r);r.forEach(f),this.h()},h(){d(t,"class","medias svelte-11d6el2")},m(l,r){w(l,t,r);for(let n=0;n<e.length;n+=1)e[n]&&e[n].m(t,null)},p(l,r){var n;if(r&20){i=W((n=l[4])==null?void 0:n.meta.config.highlightedEntities);let c;for(c=0;c<i.length;c+=1){const E=se(l,i,c);e[c]?e[c].p(E,r):(e[c]=de(E),e[c].c(),e[c].m(t,null))}for(;c<e.length;c+=1)e[c].d(1);e.length=i.length}},d(l){l&&f(t),_e(e,l)}}}function ce(s){let t;function i(...l){return s[6](s[9],...l)}let e=W(s[2].filter(i)),a=[];for(let l=0;l<e.length;l+=1)a[l]=he(ne(s,e,l));return{c(){for(let l=0;l<a.length;l+=1)a[l].c();t=S()},l(l){for(let r=0;r<a.length;r+=1)a[r].l(l);t=S()},m(l,r){for(let n=0;n<a.length;n+=1)a[n]&&a[n].m(l,r);w(l,t,r)},p(l,r){if(s=l,r&20){e=W(s[2].filter(i));let n;for(n=0;n<e.length;n+=1){const c=ne(s,e,n);a[n]?a[n].p(c,r):(a[n]=he(c),a[n].c(),a[n].m(t.parentNode,t))}for(;n<a.length;n+=1)a[n].d(1);a.length=e.length}},d(l){l&&f(t),_e(a,l)}}}function qe(s){return{c:q,l:q,m:q,p:q,d:q}}function Ce(s){let t,i,e,a,l,r,n,c=s[12].name+"",E,k,D;return{c(){t=m("a"),i=m("div"),e=m("img"),r=M(),n=m("p"),E=K(c),k=M(),this.h()},l(o){t=p(o,"A",{href:!0,target:!0,class:!0});var _=b(t);i=p(_,"DIV",{class:!0});var H=b(i);e=p(H,"IMG",{src:!0,alt:!0,class:!0}),r=T(H),n=p(H,"P",{class:!0});var P=b(n);E=Q(P,c),P.forEach(f),H.forEach(f),k=T(_),_.forEach(f),this.h()},h(){te(e.src,a=s[12].image)||d(e,"src",a),d(e,"alt",l=s[12].name),d(e,"class","svelte-11d6el2"),d(n,"class","svelte-11d6el2"),d(i,"class","athlete svelte-11d6el2"),d(t,"href",D=s[12].url),d(t,"target","_blank"),d(t,"class","svelte-11d6el2")},m(o,_){w(o,t,_),u(t,i),u(i,e),u(i,r),u(i,n),u(n,E),u(t,k)},p(o,_){_&4&&!te(e.src,a=o[12].image)&&d(e,"src",a),_&4&&l!==(l=o[12].name)&&d(e,"alt",l),_&4&&c!==(c=o[12].name+"")&&pe(E,c),_&4&&D!==(D=o[12].url)&&d(t,"href",D)},d(o){o&&f(t)}}}function he(s){let t;function i(l,r){return l[12].image?Ce:qe}let e=i(s),a=e(s);return{c(){a.c(),t=S()},l(l){a.l(l),t=S()},m(l,r){a.m(l,r),w(l,t,r)},p(l,r){e===(e=i(l))&&a?a.p(l,r):(a.d(1),a=e(l),a&&(a.c(),a.m(t.parentNode,t)))},d(l){l&&f(t),a.d(l)}}}function de(s){let t,i=s[2]&&ce(s);return{c(){i&&i.c(),t=S()},l(e){i&&i.l(e),t=S()},m(e,a){i&&i.m(e,a),w(e,t,a)},p(e,a){e[2]?i?i.p(e,a):(i=ce(e),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null)},d(e){e&&f(t),i&&i.d(e)}}}function Re(s){let t,i,e=s[4]!=null&&s[3].length>0&&s[2].length>0&&re(s);return{c(){e&&e.c(),t=S()},l(a){e&&e.l(a),t=S()},m(a,l){e&&e.m(a,l),w(a,t,l),i=!0},p(a,[l]){a[4]!=null&&a[3].length>0&&a[2].length>0?e?(e.p(a,l),l&12&&L(e,1)):(e=re(a),e.c(),L(e,1),e.m(t.parentNode,t)):e&&(Ie(),$(e,1,1,()=>{e=null}),be())},i(a){i||(L(e),i=!0)},o(a){$(e),i=!1},d(a){a&&f(t),e&&e.d(a)}}}function ze(s,t,i){let e,a;ee(s,ye,o=>i(7,e=o)),ee(s,ie,o=>i(3,a=o));let{data:l}=t,r=l,n=r.posts.find(o=>o.path.includes(e.params.slug)),c=null,E=null;if(n){const o=r.posts.findIndex(_=>_.path.includes(e.params.slug));c=r.posts[o+1]||null,E=r.posts[o-1]||null,le.update(_=>({..._,...n.meta.config})),ae.set(n.meta.config.highlightedEntities||[])}let k=[];me(async()=>{Se.set(window.innerWidth),je.set(500);const _=(await Ne(R+"/data/update-until-2022/data.tsv")).map(P=>{const V={};for(const[z,j]of Object.entries(P))V[z]=j!=null&&j.trim()?j:"NA";return V});ie.set(_);const H=await fetch(R+"/data/athletes.json");i(2,k=await H.json())}),n&&(le.update(o=>({...o,...n.meta.config})),ae.set(n.meta.config.highlightedEntities||[]),Ve.set(n.meta.caption||""));const D=(o,_)=>_.name.toLowerCase()==o;return s.$$set=o=>{"data"in o&&i(5,l=o.data)},[c,E,k,a,n,l,D]}class Qe extends ve{constructor(t){super(),ge(this,t,ze,Re,ue,{data:5})}}export{Qe as component,Ke as universal};
