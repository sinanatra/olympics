import{s as ue,o as y,i as w,f,k as ee,p as me,e as m,a as M,H as B,c as p,b,g as T,I as F,m as d,h as u,t as K,d as Q,n as q,r as _e,J as te,j as pe}from"../chunks/scheduler.D7Q2dnVI.js";import{S as ve,i as ge,t as L,a as $,c as be,b as ke,d as Ee,m as we,e as De,g as Ie}from"../chunks/index.BmfHaTgE.js";import{e as W}from"../chunks/each.D6YF6ztN.js";import{b as R}from"../chunks/paths.7cD6-8Sb.js";import{c as le,a as ae,w as Ve,h as ye,d as se}from"../chunks/stores.KMo0qmFd.js";import{S as Se,t as je}from"../chunks/dsv.Cr8Lu9Xj.js";import{p as Ae}from"../chunks/stores.9MMiCKzc.js";const Ne=async({fetch:i})=>({posts:await(await i("/api/snippets")).json()}),Fe=Object.freeze(Object.defineProperty({__proto__:null,load:Ne},Symbol.toStringTag,{value:"Module"}));function ie(i,t,s){const e=i.slice();return e[9]=t[s],e}function ne(i,t,s){const e=i.slice();return e[12]=t[s],e}function oe(i){var U,X;let t,s,e,a,l,o,n,c,E,k,D,r,_,H=((U=i[4])==null?void 0:U.meta.title)+"",P,V,z,S,v=i[1]&&re(i),g=i[0]&&fe(i);n=new Se({});let j=i[4].meta.methodology&&He(i),A=i[4].text&&Pe(i),N=((X=i[4])==null?void 0:X.meta.media)&&Me(i);return{c(){t=m("header"),s=m("div"),v&&v.c(),e=M(),g&&g.c(),a=M(),l=m("main"),o=m("div"),ke(n.$$.fragment),c=M(),j&&j.c(),E=M(),k=m("div"),D=m("div"),r=m("h1"),_=new B(!1),P=M(),V=m("div"),A&&A.c(),z=M(),N&&N.c(),this.h()},l(h){t=p(h,"HEADER",{});var I=b(t);s=p(I,"DIV",{class:!0,"data-sveltekit-reload":!0});var O=b(s);v&&v.l(O),e=T(O),g&&g.l(O),O.forEach(f),I.forEach(f),a=T(h),l=p(h,"MAIN",{});var C=b(l);o=p(C,"DIV",{class:!0});var Y=b(o);Ee(n.$$.fragment,Y),Y.forEach(f),c=T(C),j&&j.l(C),E=T(C),k=p(C,"DIV",{class:!0});var G=b(k);D=p(G,"DIV",{class:!0});var Z=b(D);r=p(Z,"H1",{});var x=b(r);_=F(x,!1),x.forEach(f),Z.forEach(f),P=T(G),V=p(G,"DIV",{class:!0});var J=b(V);A&&A.l(J),z=T(J),N&&N.l(J),J.forEach(f),G.forEach(f),C.forEach(f),this.h()},h(){d(s,"class","navigation svelte-5dc5o5"),d(s,"data-sveltekit-reload",""),d(o,"class","sketch svelte-5dc5o5"),_.a=null,d(D,"class","title"),d(V,"class","content"),d(k,"class","info svelte-5dc5o5")},m(h,I){w(h,t,I),u(t,s),v&&v.m(s,null),u(s,e),g&&g.m(s,null),w(h,a,I),w(h,l,I),u(l,o),we(n,o,null),u(l,c),j&&j.m(l,null),u(l,E),u(l,k),u(k,D),u(D,r),_.m(H,r),u(k,P),u(k,V),A&&A.m(V,null),u(V,z),N&&N.m(V,null),S=!0},p(h,I){var O;h[1]?v?v.p(h,I):(v=re(h),v.c(),v.m(s,e)):v&&(v.d(1),v=null),h[0]?g?g.p(h,I):(g=fe(h),g.c(),g.m(s,null)):g&&(g.d(1),g=null),h[4].meta.methodology&&j.p(h,I),h[4].text&&A.p(h,I),(O=h[4])!=null&&O.meta.media&&N.p(h,I)},i(h){S||(L(n.$$.fragment,h),S=!0)},o(h){$(n.$$.fragment,h),S=!1},d(h){h&&(f(t),f(a),f(l)),v&&v.d(),g&&g.d(),De(n),j&&j.d(),A&&A.d(),N&&N.d()}}}function re(i){let t,s,e;return{c(){t=m("a"),s=K("←"),this.h()},l(a){t=p(a,"A",{class:!0,href:!0});var l=b(t);s=Q(l,"←"),l.forEach(f),this.h()},h(){d(t,"class","prev svelte-5dc5o5"),d(t,"href",e=R+"/stories/"+i[1].path.replace("/texts/",""))},m(a,l){w(a,t,l),u(t,s)},p(a,l){l&2&&e!==(e=R+"/stories/"+a[1].path.replace("/texts/",""))&&d(t,"href",e)},d(a){a&&f(t)}}}function fe(i){let t,s,e;return{c(){t=m("a"),s=K("→"),this.h()},l(a){t=p(a,"A",{class:!0,href:!0});var l=b(t);s=Q(l,"→"),l.forEach(f),this.h()},h(){d(t,"class","next svelte-5dc5o5"),d(t,"href",e=R+"/stories/"+i[0].path.replace("/texts/",""))},m(a,l){w(a,t,l),u(t,s)},p(a,l){l&1&&e!==(e=R+"/stories/"+a[0].path.replace("/texts/",""))&&d(t,"href",e)},d(a){a&&f(t)}}}function He(i){let t,s,e=i[4].meta.methodology+"";return{c(){t=m("div"),s=new B(!1),this.h()},l(a){t=p(a,"DIV",{class:!0});var l=b(t);s=F(l,!1),l.forEach(f),this.h()},h(){s.a=null,d(t,"class","methodology svelte-5dc5o5")},m(a,l){w(a,t,l),s.m(e,t)},p:q,d(a){a&&f(t)}}}function Pe(i){let t,s,e=i[4].text+"";return{c(){t=m("div"),s=new B(!1),this.h()},l(a){t=p(a,"DIV",{class:!0});var l=b(t);s=F(l,!1),l.forEach(f),this.h()},h(){s.a=null,d(t,"class","description svelte-5dc5o5")},m(a,l){w(a,t,l),s.m(e,t)},p:q,d(a){a&&f(t)}}}function Me(i){let t,s=i[4].meta.config.highlightedEntities&&Te(i);return{c(){s&&s.c(),t=y()},l(e){s&&s.l(e),t=y()},m(e,a){s&&s.m(e,a),w(e,t,a)},p(e,a){e[4].meta.config.highlightedEntities&&s.p(e,a)},d(e){e&&f(t),s&&s.d(e)}}}function Te(i){var a;let t,s=W((a=i[4])==null?void 0:a.meta.config.highlightedEntities),e=[];for(let l=0;l<s.length;l+=1)e[l]=de(ie(i,s,l));return{c(){t=m("div");for(let l=0;l<e.length;l+=1)e[l].c();this.h()},l(l){t=p(l,"DIV",{class:!0});var o=b(t);for(let n=0;n<e.length;n+=1)e[n].l(o);o.forEach(f),this.h()},h(){d(t,"class","medias svelte-5dc5o5")},m(l,o){w(l,t,o);for(let n=0;n<e.length;n+=1)e[n]&&e[n].m(t,null)},p(l,o){var n;if(o&20){s=W((n=l[4])==null?void 0:n.meta.config.highlightedEntities);let c;for(c=0;c<s.length;c+=1){const E=ie(l,s,c);e[c]?e[c].p(E,o):(e[c]=de(E),e[c].c(),e[c].m(t,null))}for(;c<e.length;c+=1)e[c].d(1);e.length=s.length}},d(l){l&&f(t),_e(e,l)}}}function ce(i){let t;function s(...l){return i[6](i[9],...l)}let e=W(i[2].filter(s)),a=[];for(let l=0;l<e.length;l+=1)a[l]=he(ne(i,e,l));return{c(){for(let l=0;l<a.length;l+=1)a[l].c();t=y()},l(l){for(let o=0;o<a.length;o+=1)a[o].l(l);t=y()},m(l,o){for(let n=0;n<a.length;n+=1)a[n]&&a[n].m(l,o);w(l,t,o)},p(l,o){if(i=l,o&20){e=W(i[2].filter(s));let n;for(n=0;n<e.length;n+=1){const c=ne(i,e,n);a[n]?a[n].p(c,o):(a[n]=he(c),a[n].c(),a[n].m(t.parentNode,t))}for(;n<a.length;n+=1)a[n].d(1);a.length=e.length}},d(l){l&&f(t),_e(a,l)}}}function Oe(i){return{c:q,l:q,m:q,p:q,d:q}}function qe(i){let t,s,e,a,l,o,n,c=i[12].name+"",E,k,D;return{c(){t=m("a"),s=m("div"),e=m("img"),o=M(),n=m("p"),E=K(c),k=M(),this.h()},l(r){t=p(r,"A",{href:!0,target:!0,class:!0});var _=b(t);s=p(_,"DIV",{class:!0});var H=b(s);e=p(H,"IMG",{src:!0,alt:!0,class:!0}),o=T(H),n=p(H,"P",{class:!0});var P=b(n);E=Q(P,c),P.forEach(f),H.forEach(f),k=T(_),_.forEach(f),this.h()},h(){te(e.src,a=i[12].image)||d(e,"src",a),d(e,"alt",l=i[12].name),d(e,"class","svelte-5dc5o5"),d(n,"class","svelte-5dc5o5"),d(s,"class","athlete svelte-5dc5o5"),d(t,"href",D=i[12].url),d(t,"target","_blank"),d(t,"class","svelte-5dc5o5")},m(r,_){w(r,t,_),u(t,s),u(s,e),u(s,o),u(s,n),u(n,E),u(t,k)},p(r,_){_&4&&!te(e.src,a=r[12].image)&&d(e,"src",a),_&4&&l!==(l=r[12].name)&&d(e,"alt",l),_&4&&c!==(c=r[12].name+"")&&pe(E,c),_&4&&D!==(D=r[12].url)&&d(t,"href",D)},d(r){r&&f(t)}}}function he(i){let t;function s(l,o){return l[12].image?qe:Oe}let e=s(i),a=e(i);return{c(){a.c(),t=y()},l(l){a.l(l),t=y()},m(l,o){a.m(l,o),w(l,t,o)},p(l,o){e===(e=s(l))&&a?a.p(l,o):(a.d(1),a=e(l),a&&(a.c(),a.m(t.parentNode,t)))},d(l){l&&f(t),a.d(l)}}}function de(i){let t,s=i[2]&&ce(i);return{c(){s&&s.c(),t=y()},l(e){s&&s.l(e),t=y()},m(e,a){s&&s.m(e,a),w(e,t,a)},p(e,a){e[2]?s?s.p(e,a):(s=ce(e),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null)},d(e){e&&f(t),s&&s.d(e)}}}function Ce(i){let t,s,e=i[4]!=null&&i[3].length>0&&i[2].length>0&&oe(i);return{c(){e&&e.c(),t=y()},l(a){e&&e.l(a),t=y()},m(a,l){e&&e.m(a,l),w(a,t,l),s=!0},p(a,[l]){a[4]!=null&&a[3].length>0&&a[2].length>0?e?(e.p(a,l),l&12&&L(e,1)):(e=oe(a),e.c(),L(e,1),e.m(t.parentNode,t)):e&&(Ie(),$(e,1,1,()=>{e=null}),be())},i(a){s||(L(e),s=!0)},o(a){$(e),s=!1},d(a){a&&f(t),e&&e.d(a)}}}function Re(i,t,s){let e,a;ee(i,Ae,r=>s(7,e=r)),ee(i,se,r=>s(3,a=r));let{data:l}=t,o=l,n=o.posts.find(r=>r.path.includes(e.params.slug)),c=null,E=null;if(n){const r=o.posts.findIndex(_=>_.path.includes(e.params.slug));c=o.posts[r+1]||null,E=o.posts[r-1]||null,le.update(_=>({..._,...n.meta.config})),ae.set(n.meta.config.highlightedEntities||[])}let k=[];me(async()=>{Ve.set(window.innerWidth),ye.set(650);const _=(await je(R+"/data/update-until-2022/data.tsv")).map(P=>{const V={};for(const[z,S]of Object.entries(P))V[z]=S!=null&&S.trim()?S:"NA";return V});se.set(_);const H=await fetch(R+"/data/athletes.json");s(2,k=await H.json())}),n&&(le.update(r=>({...r,...n.meta.config})),ae.set(n.meta.config.highlightedEntities||[]));const D=(r,_)=>_.name.toLowerCase()==r;return i.$$set=r=>{"data"in r&&s(5,l=r.data)},[c,E,k,a,n,l,D]}class Ke extends ve{constructor(t){super(),ge(this,t,Re,Ce,ue,{data:5})}}export{Ke as component,Fe as universal};
