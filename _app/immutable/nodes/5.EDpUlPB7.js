import{s as Y,e as k,c as w,b as y,f as c,i as E,k as G,q as Z,l as x,m as u,n as I,a as S,H as T,g as C,C as A,h as q,o as V,B as X,t as ee,d as te,D as R,j as le}from"../chunks/scheduler.B6iofcAQ.js";import{S as ae,i as se,t as M,c as ie,a as P,g as ne,b as oe,d as re,m as ce,e as fe}from"../chunks/index.DcOQwsS0.js";import{e as H}from"../chunks/each.D6YF6ztN.js";import{b as W}from"../chunks/paths.C3tCS6WC.js";import{c as _e,h as he,w as ue,a as de,d as $}from"../chunks/stores.BGpV0rtZ.js";import{t as me,S as pe}from"../chunks/dsv.NfkKUSHV.js";import{p as ge}from"../chunks/stores.CbXpWgwZ.js";const ve=async({fetch:i})=>({posts:await(await i("/api/snippets")).json()}),Ae=Object.freeze(Object.defineProperty({__proto__:null,load:ve},Symbol.toStringTag,{value:"Module"}));function F(i,t,l){const e=i.slice();return e[7]=t[l],e}function J(i,t,l){const e=i.slice();return e[10]=t[l],e}function be(i){let t,l="Loading...";return{c(){t=k("p"),t.textContent=l,this.h()},l(e){t=w(e,"P",{class:!0,"data-svelte-h":!0}),x(t)!=="svelte-1m6gtj"&&(t.textContent=l),this.h()},h(){u(t,"class","loading svelte-1q7wgpp")},m(e,s){E(e,t,s)},p:I,i:I,o:I,d(e){e&&c(t)}}}function ke(i){var O,L;let t,l,e,s,a,r,n,o,h=((O=i[2])==null?void 0:O.meta.title)+"",f,d,g,m;l=new pe({});let p=i[2].meta.methodology&&we(i),v=i[2].text&&Ee(i),b=((L=i[2])==null?void 0:L.meta.media)&&De(i);return{c(){t=k("div"),oe(l.$$.fragment),e=S(),p&&p.c(),s=S(),a=k("div"),r=k("div"),n=k("h1"),o=new T(!1),f=S(),d=k("div"),v&&v.c(),g=S(),b&&b.c(),this.h()},l(_){t=w(_,"DIV",{class:!0});var D=y(t);re(l.$$.fragment,D),D.forEach(c),e=C(_),p&&p.l(_),s=C(_),a=w(_,"DIV",{class:!0});var j=y(a);r=w(j,"DIV",{class:!0});var z=y(r);n=w(z,"H1",{});var B=y(n);o=A(B,!1),B.forEach(c),z.forEach(c),f=C(j),d=w(j,"DIV",{class:!0});var N=y(d);v&&v.l(N),g=C(N),b&&b.l(N),N.forEach(c),j.forEach(c),this.h()},h(){u(t,"class","sketch svelte-1q7wgpp"),o.a=null,u(r,"class","title"),u(d,"class","content"),u(a,"class","info svelte-1q7wgpp")},m(_,D){E(_,t,D),ce(l,t,null),E(_,e,D),p&&p.m(_,D),E(_,s,D),E(_,a,D),q(a,r),q(r,n),o.m(h,n),q(a,f),q(a,d),v&&v.m(d,null),q(d,g),b&&b.m(d,null),m=!0},p(_,D){var j;_[2].meta.methodology&&p.p(_,D),_[2].text&&v.p(_,D),(j=_[2])!=null&&j.meta.media&&b.p(_,D)},i(_){m||(P(l.$$.fragment,_),m=!0)},o(_){M(l.$$.fragment,_),m=!1},d(_){_&&(c(t),c(e),c(s),c(a)),fe(l),p&&p.d(_),v&&v.d(),b&&b.d()}}}function we(i){let t,l,e=i[2].meta.methodology+"";return{c(){t=k("div"),l=new T(!1),this.h()},l(s){t=w(s,"DIV",{class:!0});var a=y(t);l=A(a,!1),a.forEach(c),this.h()},h(){l.a=null,u(t,"class","methodology svelte-1q7wgpp")},m(s,a){E(s,t,a),l.m(e,t)},p:I,d(s){s&&c(t)}}}function Ee(i){let t,l,e=i[2].text+"";return{c(){t=k("div"),l=new T(!1),this.h()},l(s){t=w(s,"DIV",{class:!0});var a=y(t);l=A(a,!1),a.forEach(c),this.h()},h(){l.a=null,u(t,"class","description svelte-1q7wgpp")},m(s,a){E(s,t,a),l.m(e,t)},p:I,d(s){s&&c(t)}}}function De(i){let t,l=i[2].meta.config.highlightedEntities&&ye(i);return{c(){l&&l.c(),t=V()},l(e){l&&l.l(e),t=V()},m(e,s){l&&l.m(e,s),E(e,t,s)},p(e,s){e[2].meta.config.highlightedEntities&&l.p(e,s)},d(e){e&&c(t),l&&l.d(e)}}}function ye(i){var s;let t,l=H((s=i[2])==null?void 0:s.meta.config.highlightedEntities),e=[];for(let a=0;a<l.length;a+=1)e[a]=U(F(i,l,a));return{c(){t=k("div");for(let a=0;a<e.length;a+=1)e[a].c();this.h()},l(a){t=w(a,"DIV",{class:!0});var r=y(t);for(let n=0;n<e.length;n+=1)e[n].l(r);r.forEach(c),this.h()},h(){u(t,"class","medias svelte-1q7wgpp")},m(a,r){E(a,t,r);for(let n=0;n<e.length;n+=1)e[n]&&e[n].m(t,null)},p(a,r){var n;if(r&5){l=H((n=a[2])==null?void 0:n.meta.config.highlightedEntities);let o;for(o=0;o<l.length;o+=1){const h=F(a,l,o);e[o]?e[o].p(h,r):(e[o]=U(h),e[o].c(),e[o].m(t,null))}for(;o<e.length;o+=1)e[o].d(1);e.length=l.length}},d(a){a&&c(t),X(e,a)}}}function K(i){let t;function l(...a){return i[4](i[7],...a)}let e=H(i[0].filter(l)),s=[];for(let a=0;a<e.length;a+=1)s[a]=Q(J(i,e,a));return{c(){for(let a=0;a<s.length;a+=1)s[a].c();t=V()},l(a){for(let r=0;r<s.length;r+=1)s[r].l(a);t=V()},m(a,r){for(let n=0;n<s.length;n+=1)s[n]&&s[n].m(a,r);E(a,t,r)},p(a,r){if(i=a,r&5){e=H(i[0].filter(l));let n;for(n=0;n<e.length;n+=1){const o=J(i,e,n);s[n]?s[n].p(o,r):(s[n]=Q(o),s[n].c(),s[n].m(t.parentNode,t))}for(;n<s.length;n+=1)s[n].d(1);s.length=e.length}},d(a){a&&c(t),X(s,a)}}}function qe(i){return{c:I,l:I,m:I,p:I,d:I}}function Ie(i){let t,l,e,s,a,r,n,o=i[10].name+"",h,f,d;return{c(){t=k("a"),l=k("div"),e=k("img"),r=S(),n=k("p"),h=ee(o),f=S(),this.h()},l(g){t=w(g,"A",{href:!0,target:!0,class:!0});var m=y(t);l=w(m,"DIV",{class:!0});var p=y(l);e=w(p,"IMG",{src:!0,alt:!0,class:!0}),r=C(p),n=w(p,"P",{class:!0});var v=y(n);h=te(v,o),v.forEach(c),p.forEach(c),f=C(m),m.forEach(c),this.h()},h(){R(e.src,s=i[10].image)||u(e,"src",s),u(e,"alt",a=i[10].name),u(e,"class","svelte-1q7wgpp"),u(n,"class","svelte-1q7wgpp"),u(l,"class","athlete svelte-1q7wgpp"),u(t,"href",d=i[10].url),u(t,"target","_blank"),u(t,"class","svelte-1q7wgpp")},m(g,m){E(g,t,m),q(t,l),q(l,e),q(l,r),q(l,n),q(n,h),q(t,f)},p(g,m){m&1&&!R(e.src,s=g[10].image)&&u(e,"src",s),m&1&&a!==(a=g[10].name)&&u(e,"alt",a),m&1&&o!==(o=g[10].name+"")&&le(h,o),m&1&&d!==(d=g[10].url)&&u(t,"href",d)},d(g){g&&c(t)}}}function Q(i){let t;function l(a,r){return a[10].image?Ie:qe}let e=l(i),s=e(i);return{c(){s.c(),t=V()},l(a){s.l(a),t=V()},m(a,r){s.m(a,r),E(a,t,r)},p(a,r){e===(e=l(a))&&s?s.p(a,r):(s.d(1),s=e(a),s&&(s.c(),s.m(t.parentNode,t)))},d(a){a&&c(t),s.d(a)}}}function U(i){let t,l=i[0]&&K(i);return{c(){l&&l.c(),t=V()},l(e){l&&l.l(e),t=V()},m(e,s){l&&l.m(e,s),E(e,t,s)},p(e,s){e[0]?l?l.p(e,s):(l=K(e),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},d(e){e&&c(t),l&&l.d(e)}}}function Ve(i){let t,l,e,s;const a=[ke,be],r=[];function n(o,h){return o[2]!=null&&o[1].length>0&&o[0].length>0?0:1}return l=n(i),e=r[l]=a[l](i),{c(){t=k("main"),e.c()},l(o){t=w(o,"MAIN",{});var h=y(t);e.l(h),h.forEach(c)},m(o,h){E(o,t,h),r[l].m(t,null),s=!0},p(o,[h]){let f=l;l=n(o),l===f?r[l].p(o,h):(ne(),M(r[f],1,1,()=>{r[f]=null}),ie(),e=r[l],e?e.p(o,h):(e=r[l]=a[l](o),e.c()),P(e,1),e.m(t,null))},i(o){s||(P(e),s=!0)},o(o){M(e),s=!1},d(o){o&&c(t),r[l].d()}}}function je(i,t,l){let e,s;G(i,ge,f=>l(5,e=f)),G(i,$,f=>l(1,s=f));let{data:a}=t,n=a.posts.find(f=>f.path.includes(e.params.slug)),o=[];Z(async()=>{ue.set(window.innerWidth),de.set(600);const d=(await me(W+"/data/update-until-2022/data.tsv")).map(m=>{const p={};for(const[v,b]of Object.entries(m))p[v]=b!=null&&b.trim()?b:"NA";return p});$.set(d);const g=await fetch(W+"/data/athletes.json");l(0,o=await g.json())}),n&&(_e.update(f=>({...f,...n.meta.config})),he.set(n.meta.config.highlightedEntities||[]));const h=(f,d)=>d.name.toLowerCase()==f;return i.$$set=f=>{"data"in f&&l(3,a=f.data)},[o,s,n,a,h]}class Oe extends ae{constructor(t){super(),se(this,t,je,Ve,Y,{data:3})}}export{Oe as component,Ae as universal};
