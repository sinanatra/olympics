import{s as de,o as S,i as w,f,k as ee,p as me,e as m,a as M,H as B,c as p,b as k,g as T,I as F,m as _,h as d,t as K,d as Q,n as q,r as ue,J as te,j as pe}from"../chunks/scheduler.D7Q2dnVI.js";import{S as ve,i as ge,t as L,a as $,c as ke,b as be,d as Ee,m as we,e as De,g as Ie}from"../chunks/index.BmfHaTgE.js";import{e as W}from"../chunks/each.D6YF6ztN.js";import{b as R}from"../chunks/paths.BFqNsWpV.js";import{b as le,a as ae,c as Ve,w as Se,h as je,d as ie}from"../chunks/stores.CxXQ8zAK.js";import{S as Ae,t as Ne}from"../chunks/dsv.BCd7Y8Gd.js";import{p as ye}from"../chunks/stores.DhnXSWJX.js";const He=async({fetch:s})=>({posts:await(await s("/api/snippets")).json()}),Ke=Object.freeze(Object.defineProperty({__proto__:null,load:He},Symbol.toStringTag,{value:"Module"}));function se(s,t,i){const e=s.slice();return e[9]=t[i],e}function ne(s,t,i){const e=s.slice();return e[12]=t[i],e}function re(s){var U,X;let t,i,e,a,l,r,n,c,E,b,D,o,u,H=((U=s[4])==null?void 0:U.meta.title)+"",P,V,z,j,v=s[1]&&oe(s),g=s[0]&&fe(s);n=new Ae({});let A=s[4].meta.caption&&Pe(s),N=s[4].text&&Me(s),y=((X=s[4])==null?void 0:X.meta.media)&&Te(s);return{c(){t=m("header"),i=m("div"),v&&v.c(),e=M(),g&&g.c(),a=M(),l=m("main"),r=m("div"),be(n.$$.fragment),c=M(),A&&A.c(),E=M(),b=m("div"),D=m("div"),o=m("h1"),u=new B(!1),P=M(),V=m("div"),N&&N.c(),z=M(),y&&y.c(),this.h()},l(h){t=p(h,"HEADER",{});var I=k(t);i=p(I,"DIV",{class:!0,"data-sveltekit-reload":!0});var O=k(i);v&&v.l(O),e=T(O),g&&g.l(O),O.forEach(f),I.forEach(f),a=T(h),l=p(h,"MAIN",{});var C=k(l);r=p(C,"DIV",{class:!0});var Y=k(r);Ee(n.$$.fragment,Y),Y.forEach(f),c=T(C),A&&A.l(C),E=T(C),b=p(C,"DIV",{class:!0});var G=k(b);D=p(G,"DIV",{class:!0});var Z=k(D);o=p(Z,"H1",{});var x=k(o);u=F(x,!1),x.forEach(f),Z.forEach(f),P=T(G),V=p(G,"DIV",{class:!0});var J=k(V);N&&N.l(J),z=T(J),y&&y.l(J),J.forEach(f),G.forEach(f),C.forEach(f),this.h()},h(){_(i,"class","navigation svelte-1k8l370"),_(i,"data-sveltekit-reload",""),_(r,"class","sketch svelte-1k8l370"),u.a=null,_(D,"class","title"),_(V,"class","content"),_(b,"class","info svelte-1k8l370")},m(h,I){w(h,t,I),d(t,i),v&&v.m(i,null),d(i,e),g&&g.m(i,null),w(h,a,I),w(h,l,I),d(l,r),we(n,r,null),d(l,c),A&&A.m(l,null),d(l,E),d(l,b),d(b,D),d(D,o),u.m(H,o),d(b,P),d(b,V),N&&N.m(V,null),d(V,z),y&&y.m(V,null),j=!0},p(h,I){var O;h[1]?v?v.p(h,I):(v=oe(h),v.c(),v.m(i,e)):v&&(v.d(1),v=null),h[0]?g?g.p(h,I):(g=fe(h),g.c(),g.m(i,null)):g&&(g.d(1),g=null),h[4].meta.caption&&A.p(h,I),h[4].text&&N.p(h,I),(O=h[4])!=null&&O.meta.media&&y.p(h,I)},i(h){j||(L(n.$$.fragment,h),j=!0)},o(h){$(n.$$.fragment,h),j=!1},d(h){h&&(f(t),f(a),f(l)),v&&v.d(),g&&g.d(),De(n),A&&A.d(),N&&N.d(),y&&y.d()}}}function oe(s){let t,i,e;return{c(){t=m("a"),i=K("←"),this.h()},l(a){t=p(a,"A",{class:!0,href:!0});var l=k(t);i=Q(l,"←"),l.forEach(f),this.h()},h(){_(t,"class","prev svelte-1k8l370"),_(t,"href",e=R+"/stories/"+s[1].path.replace("/texts/",""))},m(a,l){w(a,t,l),d(t,i)},p(a,l){l&2&&e!==(e=R+"/stories/"+a[1].path.replace("/texts/",""))&&_(t,"href",e)},d(a){a&&f(t)}}}function fe(s){let t,i,e;return{c(){t=m("a"),i=K("→"),this.h()},l(a){t=p(a,"A",{class:!0,href:!0});var l=k(t);i=Q(l,"→"),l.forEach(f),this.h()},h(){_(t,"class","next svelte-1k8l370"),_(t,"href",e=R+"/stories/"+s[0].path.replace("/texts/",""))},m(a,l){w(a,t,l),d(t,i)},p(a,l){l&1&&e!==(e=R+"/stories/"+a[0].path.replace("/texts/",""))&&_(t,"href",e)},d(a){a&&f(t)}}}function Pe(s){let t,i,e=s[4].meta.caption+"";return{c(){t=m("div"),i=new B(!1),this.h()},l(a){t=p(a,"DIV",{class:!0});var l=k(t);i=F(l,!1),l.forEach(f),this.h()},h(){i.a=null,_(t,"class","caption svelte-1k8l370")},m(a,l){w(a,t,l),i.m(e,t)},p:q,d(a){a&&f(t)}}}function Me(s){let t,i,e=s[4].text+"";return{c(){t=m("div"),i=new B(!1),this.h()},l(a){t=p(a,"DIV",{class:!0});var l=k(t);i=F(l,!1),l.forEach(f),this.h()},h(){i.a=null,_(t,"class","description svelte-1k8l370")},m(a,l){w(a,t,l),i.m(e,t)},p:q,d(a){a&&f(t)}}}function Te(s){let t,i=s[4].meta.config.highlightedEntities&&Oe(s);return{c(){i&&i.c(),t=S()},l(e){i&&i.l(e),t=S()},m(e,a){i&&i.m(e,a),w(e,t,a)},p(e,a){e[4].meta.config.highlightedEntities&&i.p(e,a)},d(e){e&&f(t),i&&i.d(e)}}}function Oe(s){var a;let t,i=W((a=s[4])==null?void 0:a.meta.config.highlightedEntities),e=[];for(let l=0;l<i.length;l+=1)e[l]=_e(se(s,i,l));return{c(){t=m("div");for(let l=0;l<e.length;l+=1)e[l].c();this.h()},l(l){t=p(l,"DIV",{class:!0});var r=k(t);for(let n=0;n<e.length;n+=1)e[n].l(r);r.forEach(f),this.h()},h(){_(t,"class","medias svelte-1k8l370")},m(l,r){w(l,t,r);for(let n=0;n<e.length;n+=1)e[n]&&e[n].m(t,null)},p(l,r){var n;if(r&20){i=W((n=l[4])==null?void 0:n.meta.config.highlightedEntities);let c;for(c=0;c<i.length;c+=1){const E=se(l,i,c);e[c]?e[c].p(E,r):(e[c]=_e(E),e[c].c(),e[c].m(t,null))}for(;c<e.length;c+=1)e[c].d(1);e.length=i.length}},d(l){l&&f(t),ue(e,l)}}}function ce(s){let t;function i(...l){return s[6](s[9],...l)}let e=W(s[2].filter(i)),a=[];for(let l=0;l<e.length;l+=1)a[l]=he(ne(s,e,l));return{c(){for(let l=0;l<a.length;l+=1)a[l].c();t=S()},l(l){for(let r=0;r<a.length;r+=1)a[r].l(l);t=S()},m(l,r){for(let n=0;n<a.length;n+=1)a[n]&&a[n].m(l,r);w(l,t,r)},p(l,r){if(s=l,r&20){e=W(s[2].filter(i));let n;for(n=0;n<e.length;n+=1){const c=ne(s,e,n);a[n]?a[n].p(c,r):(a[n]=he(c),a[n].c(),a[n].m(t.parentNode,t))}for(;n<a.length;n+=1)a[n].d(1);a.length=e.length}},d(l){l&&f(t),ue(a,l)}}}function qe(s){return{c:q,l:q,m:q,p:q,d:q}}function Ce(s){let t,i,e,a,l,r,n,c=s[12].name+"",E,b,D;return{c(){t=m("a"),i=m("div"),e=m("img"),r=M(),n=m("p"),E=K(c),b=M(),this.h()},l(o){t=p(o,"A",{href:!0,target:!0,class:!0});var u=k(t);i=p(u,"DIV",{class:!0});var H=k(i);e=p(H,"IMG",{src:!0,alt:!0,class:!0}),r=T(H),n=p(H,"P",{class:!0});var P=k(n);E=Q(P,c),P.forEach(f),H.forEach(f),b=T(u),u.forEach(f),this.h()},h(){te(e.src,a=s[12].image)||_(e,"src",a),_(e,"alt",l=s[12].name),_(e,"class","svelte-1k8l370"),_(n,"class","svelte-1k8l370"),_(i,"class","athlete svelte-1k8l370"),_(t,"href",D=s[12].url),_(t,"target","_blank"),_(t,"class","svelte-1k8l370")},m(o,u){w(o,t,u),d(t,i),d(i,e),d(i,r),d(i,n),d(n,E),d(t,b)},p(o,u){u&4&&!te(e.src,a=o[12].image)&&_(e,"src",a),u&4&&l!==(l=o[12].name)&&_(e,"alt",l),u&4&&c!==(c=o[12].name+"")&&pe(E,c),u&4&&D!==(D=o[12].url)&&_(t,"href",D)},d(o){o&&f(t)}}}function he(s){let t;function i(l,r){return l[12].image?Ce:qe}let e=i(s),a=e(s);return{c(){a.c(),t=S()},l(l){a.l(l),t=S()},m(l,r){a.m(l,r),w(l,t,r)},p(l,r){e===(e=i(l))&&a?a.p(l,r):(a.d(1),a=e(l),a&&(a.c(),a.m(t.parentNode,t)))},d(l){l&&f(t),a.d(l)}}}function _e(s){let t,i=s[2]&&ce(s);return{c(){i&&i.c(),t=S()},l(e){i&&i.l(e),t=S()},m(e,a){i&&i.m(e,a),w(e,t,a)},p(e,a){e[2]?i?i.p(e,a):(i=ce(e),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null)},d(e){e&&f(t),i&&i.d(e)}}}function Re(s){let t,i,e=s[4]!=null&&s[3].length>0&&s[2].length>0&&re(s);return{c(){e&&e.c(),t=S()},l(a){e&&e.l(a),t=S()},m(a,l){e&&e.m(a,l),w(a,t,l),i=!0},p(a,[l]){a[4]!=null&&a[3].length>0&&a[2].length>0?e?(e.p(a,l),l&12&&L(e,1)):(e=re(a),e.c(),L(e,1),e.m(t.parentNode,t)):e&&(Ie(),$(e,1,1,()=>{e=null}),ke())},i(a){i||(L(e),i=!0)},o(a){$(e),i=!1},d(a){a&&f(t),e&&e.d(a)}}}function ze(s,t,i){let e,a;ee(s,ye,o=>i(7,e=o)),ee(s,ie,o=>i(3,a=o));let{data:l}=t,r=l,n=r.posts.find(o=>o.path.includes(e.params.slug)),c=null,E=null;if(n){const o=r.posts.findIndex(u=>u.path.includes(e.params.slug));c=r.posts[o+1]||null,E=r.posts[o-1]||null,le.update(u=>({...u,...n.meta.config})),ae.set(n.meta.config.highlightedEntities||[])}let b=[];me(async()=>{Se.set(window.innerWidth),je.set(650);const u=(await Ne(R+"/data/update-until-2022/data.tsv")).map(P=>{const V={};for(const[z,j]of Object.entries(P))V[z]=j!=null&&j.trim()?j:"NA";return V});ie.set(u);const H=await fetch(R+"/data/athletes.json");i(2,b=await H.json())}),n&&(le.update(o=>({...o,...n.meta.config})),ae.set(n.meta.config.highlightedEntities||[]),Ve.set(n.meta.caption||""));const D=(o,u)=>u.name.toLowerCase()==o;return s.$$set=o=>{"data"in o&&i(5,l=o.data)},[c,E,b,a,n,l,D]}class Qe extends ve{constructor(t){super(),ge(this,t,ze,Re,de,{data:5})}}export{Qe as component,Ke as universal};
