import{s as de,o as V,i as w,f as c,k as Z,p as me,e as v,a as M,H as he,c as g,b as k,g as T,I as _e,m as h,h as d,t as B,d as F,n as I,r as ue,J as x,j as pe}from"../chunks/scheduler.3V_Ra38V.js";import{S as ve,i as ge,t as L,a as $,c as be,b as ke,d as Ee,m as je,e as we,g as qe}from"../chunks/index.CryiHHAf.js";import{e as W}from"../chunks/each.D6YF6ztN.js";import{b as R}from"../chunks/paths.By2n1f4j.js";import{b as ee,a as te,c as De,w as Ie,h as Ve,d as le}from"../chunks/stores.B6PDPKcG.js";import{S as Se,t as ye}from"../chunks/dsv.poRq3o0R.js";import{p as Ae}from"../chunks/stores.BQ_LT8Zz.js";const Ne=async({fetch:i})=>({posts:await(await i("/api/snippets")).json()}),Ke=Object.freeze(Object.defineProperty({__proto__:null,load:Ne},Symbol.toStringTag,{value:"Module"}));function ae(i,l,s){const e=i.slice();return e[9]=l[s],e}function se(i,l,s){const e=i.slice();return e[12]=l[s],e}function ie(i){var K,Q;let l,s,e,a,t,r,n,f,E,b,j,o,u,N=((K=i[4])==null?void 0:K.meta.title)+"",H,q,z,S,m=i[1]&&ne(i),p=i[0]&&re(i);n=new Se({});let P=i[4].meta.caption&&He(),y=i[4].text&&Pe(i),A=((Q=i[4])==null?void 0:Q.meta.media)&&Me(i);return{c(){l=v("header"),s=v("div"),m&&m.c(),e=M(),p&&p.c(),a=M(),t=v("main"),r=v("div"),ke(n.$$.fragment),f=M(),P&&P.c(),E=M(),b=v("div"),j=v("div"),o=v("h1"),u=new he(!1),H=M(),q=v("div"),y&&y.c(),z=M(),A&&A.c(),this.h()},l(_){l=g(_,"HEADER",{});var D=k(l);s=g(D,"DIV",{class:!0,"data-sveltekit-reload":!0});var O=k(s);m&&m.l(O),e=T(O),p&&p.l(O),O.forEach(c),D.forEach(c),a=T(_),t=g(_,"MAIN",{});var C=k(t);r=g(C,"DIV",{class:!0});var U=k(r);Ee(n.$$.fragment,U),U.forEach(c),f=T(C),P&&P.l(C),E=T(C),b=g(C,"DIV",{class:!0});var G=k(b);j=g(G,"DIV",{class:!0});var X=k(j);o=g(X,"H1",{class:!0});var Y=k(o);u=_e(Y,!1),Y.forEach(c),X.forEach(c),H=T(G),q=g(G,"DIV",{class:!0});var J=k(q);y&&y.l(J),z=T(J),A&&A.l(J),J.forEach(c),G.forEach(c),C.forEach(c),this.h()},h(){h(s,"class","navigation svelte-10j8q7t"),h(s,"data-sveltekit-reload",""),h(r,"class","sketch svelte-10j8q7t"),u.a=null,h(o,"class","svelte-10j8q7t"),h(j,"class","title"),h(q,"class","content"),h(b,"class","info svelte-10j8q7t")},m(_,D){w(_,l,D),d(l,s),m&&m.m(s,null),d(s,e),p&&p.m(s,null),w(_,a,D),w(_,t,D),d(t,r),je(n,r,null),d(t,f),P&&P.m(t,null),d(t,E),d(t,b),d(b,j),d(j,o),u.m(N,o),d(b,H),d(b,q),y&&y.m(q,null),d(q,z),A&&A.m(q,null),S=!0},p(_,D){var O;_[1]?m?m.p(_,D):(m=ne(_),m.c(),m.m(s,e)):m&&(m.d(1),m=null),_[0]?p?p.p(_,D):(p=re(_),p.c(),p.m(s,null)):p&&(p.d(1),p=null),_[4].text&&y.p(_,D),(O=_[4])!=null&&O.meta.media&&A.p(_,D)},i(_){S||(L(n.$$.fragment,_),S=!0)},o(_){$(n.$$.fragment,_),S=!1},d(_){_&&(c(l),c(a),c(t)),m&&m.d(),p&&p.d(),we(n),P&&P.d(),y&&y.d(),A&&A.d()}}}function ne(i){let l,s,e;return{c(){l=v("a"),s=B("↲"),this.h()},l(a){l=g(a,"A",{class:!0,href:!0});var t=k(l);s=F(t,"↲"),t.forEach(c),this.h()},h(){h(l,"class","prev svelte-10j8q7t"),h(l,"href",e=R+"/stories/"+i[1].path.replace("/texts/",""))},m(a,t){w(a,l,t),d(l,s)},p(a,t){t&2&&e!==(e=R+"/stories/"+a[1].path.replace("/texts/",""))&&h(l,"href",e)},d(a){a&&c(l)}}}function re(i){let l,s,e;return{c(){l=v("a"),s=B("↳"),this.h()},l(a){l=g(a,"A",{class:!0,href:!0});var t=k(l);s=F(t,"↳"),t.forEach(c),this.h()},h(){h(l,"class","next svelte-10j8q7t"),h(l,"href",e=R+"/stories/"+i[0].path.replace("/texts/",""))},m(a,t){w(a,l,t),d(l,s)},p(a,t){t&1&&e!==(e=R+"/stories/"+a[0].path.replace("/texts/",""))&&h(l,"href",e)},d(a){a&&c(l)}}}function He(i){return{c:I,l:I,m:I,d:I}}function Pe(i){let l,s,e=i[4].text+"";return{c(){l=v("div"),s=new he(!1),this.h()},l(a){l=g(a,"DIV",{class:!0});var t=k(l);s=_e(t,!1),t.forEach(c),this.h()},h(){s.a=null,h(l,"class","description svelte-10j8q7t")},m(a,t){w(a,l,t),s.m(e,l)},p:I,d(a){a&&c(l)}}}function Me(i){let l,s=i[4].meta.config.highlightedEntities&&Te(i);return{c(){s&&s.c(),l=V()},l(e){s&&s.l(e),l=V()},m(e,a){s&&s.m(e,a),w(e,l,a)},p(e,a){e[4].meta.config.highlightedEntities&&s.p(e,a)},d(e){e&&c(l),s&&s.d(e)}}}function Te(i){var a;let l,s=W((a=i[4])==null?void 0:a.meta.config.highlightedEntities),e=[];for(let t=0;t<s.length;t+=1)e[t]=ce(ae(i,s,t));return{c(){l=v("div");for(let t=0;t<e.length;t+=1)e[t].c();this.h()},l(t){l=g(t,"DIV",{class:!0});var r=k(l);for(let n=0;n<e.length;n+=1)e[n].l(r);r.forEach(c),this.h()},h(){h(l,"class","medias svelte-10j8q7t")},m(t,r){w(t,l,r);for(let n=0;n<e.length;n+=1)e[n]&&e[n].m(l,null)},p(t,r){var n;if(r&20){s=W((n=t[4])==null?void 0:n.meta.config.highlightedEntities);let f;for(f=0;f<s.length;f+=1){const E=ae(t,s,f);e[f]?e[f].p(E,r):(e[f]=ce(E),e[f].c(),e[f].m(l,null))}for(;f<e.length;f+=1)e[f].d(1);e.length=s.length}},d(t){t&&c(l),ue(e,t)}}}function oe(i){let l;function s(...t){return i[6](i[9],...t)}let e=W(i[2].filter(s)),a=[];for(let t=0;t<e.length;t+=1)a[t]=fe(se(i,e,t));return{c(){for(let t=0;t<a.length;t+=1)a[t].c();l=V()},l(t){for(let r=0;r<a.length;r+=1)a[r].l(t);l=V()},m(t,r){for(let n=0;n<a.length;n+=1)a[n]&&a[n].m(t,r);w(t,l,r)},p(t,r){if(i=t,r&20){e=W(i[2].filter(s));let n;for(n=0;n<e.length;n+=1){const f=se(i,e,n);a[n]?a[n].p(f,r):(a[n]=fe(f),a[n].c(),a[n].m(l.parentNode,l))}for(;n<a.length;n+=1)a[n].d(1);a.length=e.length}},d(t){t&&c(l),ue(a,t)}}}function Oe(i){return{c:I,l:I,m:I,p:I,d:I}}function Ce(i){let l,s,e,a,t,r,n,f=i[12].name+"",E,b,j;return{c(){l=v("a"),s=v("div"),e=v("img"),r=M(),n=v("p"),E=B(f),b=M(),this.h()},l(o){l=g(o,"A",{href:!0,target:!0,class:!0});var u=k(l);s=g(u,"DIV",{class:!0});var N=k(s);e=g(N,"IMG",{src:!0,alt:!0,class:!0}),r=T(N),n=g(N,"P",{class:!0});var H=k(n);E=F(H,f),H.forEach(c),N.forEach(c),b=T(u),u.forEach(c),this.h()},h(){x(e.src,a=i[12].image)||h(e,"src",a),h(e,"alt",t=i[12].name),h(e,"class","svelte-10j8q7t"),h(n,"class","svelte-10j8q7t"),h(s,"class","athlete svelte-10j8q7t"),h(l,"href",j=i[12].url),h(l,"target","_blank"),h(l,"class","svelte-10j8q7t")},m(o,u){w(o,l,u),d(l,s),d(s,e),d(s,r),d(s,n),d(n,E),d(l,b)},p(o,u){u&4&&!x(e.src,a=o[12].image)&&h(e,"src",a),u&4&&t!==(t=o[12].name)&&h(e,"alt",t),u&4&&f!==(f=o[12].name+"")&&pe(E,f),u&4&&j!==(j=o[12].url)&&h(l,"href",j)},d(o){o&&c(l)}}}function fe(i){let l;function s(t,r){return t[12].image?Ce:Oe}let e=s(i),a=e(i);return{c(){a.c(),l=V()},l(t){a.l(t),l=V()},m(t,r){a.m(t,r),w(t,l,r)},p(t,r){e===(e=s(t))&&a?a.p(t,r):(a.d(1),a=e(t),a&&(a.c(),a.m(l.parentNode,l)))},d(t){t&&c(l),a.d(t)}}}function ce(i){let l,s=i[2]&&oe(i);return{c(){s&&s.c(),l=V()},l(e){s&&s.l(e),l=V()},m(e,a){s&&s.m(e,a),w(e,l,a)},p(e,a){e[2]?s?s.p(e,a):(s=oe(e),s.c(),s.m(l.parentNode,l)):s&&(s.d(1),s=null)},d(e){e&&c(l),s&&s.d(e)}}}function Re(i){let l,s,e=i[4]!=null&&i[3].length>0&&i[2].length>0&&ie(i);return{c(){e&&e.c(),l=V()},l(a){e&&e.l(a),l=V()},m(a,t){e&&e.m(a,t),w(a,l,t),s=!0},p(a,[t]){a[4]!=null&&a[3].length>0&&a[2].length>0?e?(e.p(a,t),t&12&&L(e,1)):(e=ie(a),e.c(),L(e,1),e.m(l.parentNode,l)):e&&(qe(),$(e,1,1,()=>{e=null}),be())},i(a){s||(L(e),s=!0)},o(a){$(e),s=!1},d(a){a&&c(l),e&&e.d(a)}}}function ze(i,l,s){let e,a;Z(i,Ae,o=>s(7,e=o)),Z(i,le,o=>s(3,a=o));let{data:t}=l,r=t,n=r.posts.find(o=>o.path.includes(e.params.slug)),f=null,E=null;if(n){const o=r.posts.findIndex(u=>u.path.includes(e.params.slug));f=r.posts[o+1]||r.posts[0],E=r.posts[o-1]||r.posts[r.posts.length-1],ee.update(u=>({...u,...n.meta.config})),te.set(n.meta.config.highlightedEntities||[])}let b=[];me(async()=>{Ie.set(window.innerWidth),Ve.set(550);const u=(await ye(R+"/data/update-until-2022/data.tsv")).map(H=>{const q={};for(const[z,S]of Object.entries(H))q[z]=S!=null&&S.trim()?S:"NA";return q});le.set(u);const N=await fetch(R+"/data/athletes.json");s(2,b=await N.json())}),n&&(ee.update(o=>({...o,...n.meta.config})),te.set(n.meta.config.highlightedEntities||[]),De.set(n.meta.caption||""));const j=(o,u)=>u.name.toLowerCase()==o;return i.$$set=o=>{"data"in o&&s(5,t=o.data)},[f,E,b,a,n,t,j]}class Qe extends ve{constructor(l){super(),ge(this,l,ze,Re,de,{data:5})}}export{Qe as component,Ke as universal};
