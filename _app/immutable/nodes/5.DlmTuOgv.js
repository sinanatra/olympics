import{s as Y,e as v,c as k,b as y,f,i as b,k as G,q as Z,l as x,m as u,n as I,a as C,H as T,g as H,C as A,h as D,o as j,B as X,t as ee,d as te,D as W,j as le}from"../chunks/scheduler.evRM0l9T.js";import{S as ie,i as ae,t as P,c as se,a as q,g as ne,b as oe,d as re,m as ce,e as fe}from"../chunks/index.aiZKxZDj.js";import{e as N}from"../chunks/each.D6YF6ztN.js";import{b as $}from"../chunks/paths.CeSblYMY.js";import{c as _e,h as he,w as ue,a as me,d as F}from"../chunks/stores.0UUoU4mb.js";import{t as de,S as pe}from"../chunks/dsv.Bsj7G-pu.js";import{p as ge}from"../chunks/stores.ByeOtHi2.js";const ve=async({fetch:s})=>({posts:await(await s("/api/snippets")).json()}),Ae=Object.freeze(Object.defineProperty({__proto__:null,load:ve},Symbol.toStringTag,{value:"Module"}));function J(s,t,l){const e=s.slice();return e[7]=t[l],e}function K(s,t,l){const e=s.slice();return e[10]=t[l],e}function ke(s){let t,l="Loading...";return{c(){t=v("p"),t.textContent=l,this.h()},l(e){t=k(e,"P",{class:!0,"data-svelte-h":!0}),x(t)!=="svelte-1m6gtj"&&(t.textContent=l),this.h()},h(){u(t,"class","loading svelte-1pikie1")},m(e,a){b(e,t,a)},p:I,i:I,o:I,d(e){e&&f(t)}}}function be(s){var L,O;let t,l,e,a,i,r,n,o,h=((L=s[2])==null?void 0:L.meta.title)+"",c,m,p,d;l=new pe({});let g=s[2].meta.methodology&&Ee(s),E=((O=s[2])==null?void 0:O.meta.media)&&we(s),V=s[2].text&&Ve(s);return{c(){t=v("div"),oe(l.$$.fragment),e=C(),g&&g.c(),a=C(),i=v("div"),r=v("div"),n=v("h1"),o=new T(!1),c=C(),m=v("div"),E&&E.c(),p=C(),V&&V.c(),this.h()},l(_){t=k(_,"DIV",{class:!0});var w=y(t);re(l.$$.fragment,w),w.forEach(f),e=H(_),g&&g.l(_),a=H(_),i=k(_,"DIV",{class:!0});var S=y(i);r=k(S,"DIV",{class:!0});var z=y(r);n=k(z,"H1",{});var B=y(n);o=A(B,!1),B.forEach(f),z.forEach(f),c=H(S),m=k(S,"DIV",{class:!0});var M=y(m);E&&E.l(M),p=H(M),V&&V.l(M),M.forEach(f),S.forEach(f),this.h()},h(){u(t,"class","sketch svelte-1pikie1"),o.a=null,u(r,"class","title"),u(m,"class","content svelte-1pikie1"),u(i,"class","info svelte-1pikie1")},m(_,w){b(_,t,w),ce(l,t,null),b(_,e,w),g&&g.m(_,w),b(_,a,w),b(_,i,w),D(i,r),D(r,n),o.m(h,n),D(i,c),D(i,m),E&&E.m(m,null),D(m,p),V&&V.m(m,null),d=!0},p(_,w){var S;_[2].meta.methodology&&g.p(_,w),(S=_[2])!=null&&S.meta.media&&E.p(_,w),_[2].text&&V.p(_,w)},i(_){d||(q(l.$$.fragment,_),d=!0)},o(_){P(l.$$.fragment,_),d=!1},d(_){_&&(f(t),f(e),f(a),f(i)),fe(l),g&&g.d(_),E&&E.d(),V&&V.d()}}}function Ee(s){let t,l,e=s[2].meta.methodology+"";return{c(){t=v("div"),l=new T(!1),this.h()},l(a){t=k(a,"DIV",{class:!0});var i=y(t);l=A(i,!1),i.forEach(f),this.h()},h(){l.a=null,u(t,"class","methodology svelte-1pikie1")},m(a,i){b(a,t,i),l.m(e,t)},p:I,d(a){a&&f(t)}}}function we(s){let t,l=s[2].meta.config.highlightedEntities&&ye(s);return{c(){l&&l.c(),t=j()},l(e){l&&l.l(e),t=j()},m(e,a){l&&l.m(e,a),b(e,t,a)},p(e,a){e[2].meta.config.highlightedEntities&&l.p(e,a)},d(e){e&&f(t),l&&l.d(e)}}}function ye(s){var a;let t,l=N((a=s[2])==null?void 0:a.meta.config.highlightedEntities),e=[];for(let i=0;i<l.length;i+=1)e[i]=U(J(s,l,i));return{c(){t=v("div");for(let i=0;i<e.length;i+=1)e[i].c();this.h()},l(i){t=k(i,"DIV",{class:!0});var r=y(t);for(let n=0;n<e.length;n+=1)e[n].l(r);r.forEach(f),this.h()},h(){u(t,"class","medias svelte-1pikie1")},m(i,r){b(i,t,r);for(let n=0;n<e.length;n+=1)e[n]&&e[n].m(t,null)},p(i,r){var n;if(r&5){l=N((n=i[2])==null?void 0:n.meta.config.highlightedEntities);let o;for(o=0;o<l.length;o+=1){const h=J(i,l,o);e[o]?e[o].p(h,r):(e[o]=U(h),e[o].c(),e[o].m(t,null))}for(;o<e.length;o+=1)e[o].d(1);e.length=l.length}},d(i){i&&f(t),X(e,i)}}}function Q(s){let t;function l(...i){return s[4](s[7],...i)}let e=N(s[0].filter(l)),a=[];for(let i=0;i<e.length;i+=1)a[i]=R(K(s,e,i));return{c(){for(let i=0;i<a.length;i+=1)a[i].c();t=j()},l(i){for(let r=0;r<a.length;r+=1)a[r].l(i);t=j()},m(i,r){for(let n=0;n<a.length;n+=1)a[n]&&a[n].m(i,r);b(i,t,r)},p(i,r){if(s=i,r&5){e=N(s[0].filter(l));let n;for(n=0;n<e.length;n+=1){const o=K(s,e,n);a[n]?a[n].p(o,r):(a[n]=R(o),a[n].c(),a[n].m(t.parentNode,t))}for(;n<a.length;n+=1)a[n].d(1);a.length=e.length}},d(i){i&&f(t),X(a,i)}}}function De(s){return{c:I,l:I,m:I,p:I,d:I}}function Ie(s){let t,l,e,a,i,r,n,o=s[10].name+"",h,c,m;return{c(){t=v("a"),l=v("div"),e=v("img"),r=C(),n=v("p"),h=ee(o),c=C(),this.h()},l(p){t=k(p,"A",{href:!0,target:!0,class:!0});var d=y(t);l=k(d,"DIV",{class:!0});var g=y(l);e=k(g,"IMG",{src:!0,alt:!0,class:!0}),r=H(g),n=k(g,"P",{class:!0});var E=y(n);h=te(E,o),E.forEach(f),g.forEach(f),c=H(d),d.forEach(f),this.h()},h(){W(e.src,a=s[10].image)||u(e,"src",a),u(e,"alt",i=s[10].name),u(e,"class","svelte-1pikie1"),u(n,"class","svelte-1pikie1"),u(l,"class","athlete svelte-1pikie1"),u(t,"href",m=s[10].url),u(t,"target","_blank"),u(t,"class","svelte-1pikie1")},m(p,d){b(p,t,d),D(t,l),D(l,e),D(l,r),D(l,n),D(n,h),D(t,c)},p(p,d){d&1&&!W(e.src,a=p[10].image)&&u(e,"src",a),d&1&&i!==(i=p[10].name)&&u(e,"alt",i),d&1&&o!==(o=p[10].name+"")&&le(h,o),d&1&&m!==(m=p[10].url)&&u(t,"href",m)},d(p){p&&f(t)}}}function R(s){let t;function l(i,r){return i[10].image?Ie:De}let e=l(s),a=e(s);return{c(){a.c(),t=j()},l(i){a.l(i),t=j()},m(i,r){a.m(i,r),b(i,t,r)},p(i,r){e===(e=l(i))&&a?a.p(i,r):(a.d(1),a=e(i),a&&(a.c(),a.m(t.parentNode,t)))},d(i){i&&f(t),a.d(i)}}}function U(s){let t,l=s[0]&&Q(s);return{c(){l&&l.c(),t=j()},l(e){l&&l.l(e),t=j()},m(e,a){l&&l.m(e,a),b(e,t,a)},p(e,a){e[0]?l?l.p(e,a):(l=Q(e),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},d(e){e&&f(t),l&&l.d(e)}}}function Ve(s){let t,l,e=s[2].text+"";return{c(){t=v("div"),l=new T(!1),this.h()},l(a){t=k(a,"DIV",{class:!0});var i=y(t);l=A(i,!1),i.forEach(f),this.h()},h(){l.a=null,u(t,"class","description svelte-1pikie1")},m(a,i){b(a,t,i),l.m(e,t)},p:I,d(a){a&&f(t)}}}function je(s){let t,l,e,a;const i=[be,ke],r=[];function n(o,h){return o[2]!=null&&o[1].length>0&&o[0].length>0?0:1}return l=n(s),e=r[l]=i[l](s),{c(){t=v("main"),e.c()},l(o){t=k(o,"MAIN",{});var h=y(t);e.l(h),h.forEach(f)},m(o,h){b(o,t,h),r[l].m(t,null),a=!0},p(o,[h]){let c=l;l=n(o),l===c?r[l].p(o,h):(ne(),P(r[c],1,1,()=>{r[c]=null}),se(),e=r[l],e?e.p(o,h):(e=r[l]=i[l](o),e.c()),q(e,1),e.m(t,null))},i(o){a||(q(e),a=!0)},o(o){P(e),a=!1},d(o){o&&f(t),r[l].d()}}}function Se(s,t,l){let e,a;G(s,ge,c=>l(5,e=c)),G(s,F,c=>l(1,a=c));let{data:i}=t,n=i.posts.find(c=>c.path.includes(e.params.slug)),o=[];Z(async()=>{ue.set(window.innerWidth),me.set(600);const c=await de($+"/data/update-until-2022/data.tsv");F.set(c);const m=await fetch($+"/data/athletes.json");l(0,o=await m.json())}),n&&(_e.update(c=>({...c,...n.meta.config})),he.set(n.meta.config.highlightedEntities||[]));const h=(c,m)=>m.name.toLowerCase()==c;return s.$$set=c=>{"data"in c&&l(3,i=c.data)},[o,a,n,i,h]}class Le extends ie{constructor(t){super(),ae(this,t,Se,je,Y,{data:3})}}export{Le as component,Ae as universal};
